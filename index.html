<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.6
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!file.README.html";
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'><h1>AWS (Amazon Web Services) library for Ruby</h1>

<p>This gem provides access to many AWS cloud services.
Unlike many other AWS libaries this gem is a very thin adaptation layer over the AWS APIs.
It is highly meta-programmed and exposes the exact AWS API calls with the
exact AWS parameters. There are two big benefits to this approach: you don&#39;t have to translate betwen the
AWS docs and the library in order to figure out what to do, and there&#39;s nothing in the AWS APIs you can&#39;t
call through the library. The library doesn&#39;t even need to be updated when AWS introduces new API features.
The downside to this approach is that when things don&#39;t work it&#39;s sometimes more difficult to figure out
what&#39;s happening... Another downside is that method names and parameter names follow the AWS API spec and
thereby run against Ruby conventions.</p>

<p>If you encounter problems please open a github issue.</p>

<h2>Docs</h2>

<p>For some getting-started info see further down but for detailed docs see
<a href="http://rightscale.github.io/right_aws_api/frames.html#!file.README.html">http://rightscale.github.io/right_aws_api/frames.html#!file.README.html</a></p>

<h2>Features</h2>

<p>The gem supports the following AWS services out of the box:</p>

<p>Web Services:</p>

<ul>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/AS/Manager.html" title="RightScale::CloudApi::AWS::AS::Manager (class)">     Auto Scaling (AS)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/CF/Manager.html" title="RightScale::CloudApi::AWS::CF::Manager (class)">     Cloud Front (CF)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/CFM/Manager.html" title="RightScale::CloudApi::AWS::CFM::Manager (class)">    Cloud Formation (CFM)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/CW/Manager.html" title="RightScale::CloudApi::AWS::CW::Manager (class)">     Cloud Watch (CW)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/EB/Manager.html" title="RightScale::CloudApi::AWS::EB::Manager (class)">     Elastic Beanstalk (EB)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/EC/Manager.html" title="RightScale::CloudApi::AWS::EC::Manager (class)">     Elasti Cache (EC)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/EC2/Manager.html" title="RightScale::CloudApi::AWS::EC2::Manager (class)">    Elastic Compute Cloud (EC2)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/ELB/Manager.html" title="RightScale::CloudApi::AWS::ELB::Manager (class)">    Elastic Load Balancing (ELB)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/EMR/Manager.html" title="RightScale::CloudApi::AWS::EMR::Manager (class)">    Elastic Map Reduce (EMR)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/IAM/Manager.html" title="RightScale::CloudApi::AWS::IAM::Manager (class)">    Identity and Access Management (IAM)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/RDS/Manager.html" title="RightScale::CloudApi::AWS::RDS::Manager (class)">    Relational Database Service (RDS)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/Route53/Manager.html" title="RightScale::CloudApi::AWS::Route53::Manager (class)">Route 53 (Route53)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/Route53/Domain/Manager.html" title="RightScale::CloudApi::AWS::Route53::Domain::Manager (class)">Route 53 Domain (Route53Domain)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/S3/Manager.html" title="RightScale::CloudApi::AWS::S3::Manager (class)">     Simple Storage Service (S3)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/SDB/Manager.html" title="RightScale::CloudApi::AWS::SDB::Manager (class)">    Simple DB (SDB)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/SNS/Manager.html" title="RightScale::CloudApi::AWS::SNS::Manager (class)">    Simple Notification Service (SNS)</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/AWS/SQS/Manager.html" title="RightScale::CloudApi::AWS::SQS::Manager (class)">    Simple Queue Service (SQS)</a></span></li>
</ul>

<p>Product Advertising API:</p>

<ul>
<li><span class='object_link'><a href="RightScale/CloudApi/ECS/PA/Manager.html" title="RightScale::CloudApi::ECS::PA::Manager (class)">     Product Advertising API (PA)</a></span></li>
</ul>

<p>Market Web Services:</p>

<ul>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/CartInformation/Manager.html" title="RightScale::CloudApi::MWS::CartInformation::Manager (class)">             Cart Information</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/CustomerInformation/Manager.html" title="RightScale::CloudApi::MWS::CustomerInformation::Manager (class)">         Customer Information</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Feeds/Manager.html" title="RightScale::CloudApi::MWS::Feeds::Manager (class)">                       Feeds</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Finances/Manager.html" title="RightScale::CloudApi::MWS::Finances::Manager (class)">                    Finances</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/FulfillmentInboundShipment/Manager.html" title="RightScale::CloudApi::MWS::FulfillmentInboundShipment::Manager (class)">  Fulfillment Inbound Shipment</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/FulfillmentInventory/Manager.html" title="RightScale::CloudApi::MWS::FulfillmentInventory::Manager (class)">        Fulfillment Inventory</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/FulfillmentOutboundShipment/Manager.html" title="RightScale::CloudApi::MWS::FulfillmentOutboundShipment::Manager (class)"> Fulfillment Outbound Shipment</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Orders/Manager.html" title="RightScale::CloudApi::MWS::Orders::Manager (class)">                      Orders</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Products/Manager.html" title="RightScale::CloudApi::MWS::Products::Manager (class)">                    Products</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Recommendations/Manager.html" title="RightScale::CloudApi::MWS::Recommendations::Manager (class)">             Recommendations</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Reports/Manager.html" title="RightScale::CloudApi::MWS::Reports::Manager (class)">                     Reports</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Sellers/Manager.html" title="RightScale::CloudApi::MWS::Sellers::Manager (class)">                     Sellers</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Subscriptions/Manager.html" title="RightScale::CloudApi::MWS::Subscriptions::Manager (class)">               Subscriptions</a></span></li>
<li><span class='object_link'><a href="RightScale/CloudApi/MWS/Webstore/Manager.html" title="RightScale::CloudApi::MWS::Webstore::Manager (class)">                    Webstore</a></span></li>
</ul>

<p>And it is easy to add support for other. You will need to refer to
the AWS docs (<a href="http://aws.amazon.com/documentation/">http://aws.amazon.com/documentation/</a>) for all the API params and usage explanations.</p>

<h2>Basic usage</h2>

<h3>Amazon Elastic Compute Cloud (EC2)</h3>

<p>This library supports all existing and future EC2 API calls. If you know that EC2 supports a
call and you know what params it accepts - just call the method with those params.</p>

<h4>Basics</h4>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>right_aws_api</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_key'>key</span>      <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCESS_KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_secret'>secret</span>   <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_SECRET_ACCESS_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://ec2.us-east-1.amazonaws.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_ec2'>ec2</span>      <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>EC2</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>ThisCallMustBeSupportedByEc2</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Param.1</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>A</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Param.2</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<h4>EC2 Instances</h4>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>right_aws_api</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_ec2'>ec2</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>EC2</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>

  <span class='comment'># Get a list of your instances
</span>  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>DescribeInstances</span>

  <span class='comment'># Describe custom Instance(s)
</span>  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>DescribeInstances</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>InstanceId</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i-2ba7c640</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>DescribeInstances</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>InstanceId</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i-2ba7c640</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i-7db9101e</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Describe Instances with filteringSame (another way, the result is the same):
</span>  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>DescribeInstances</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Filter</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span>
      <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>architecture</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i386</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>availability-zone</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>us-east-1a</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>us-east-1d</span><span class='tstring_end'>&#39;</span></span> <span class='rbracket'>]</span><span class='rbrace'>}</span><span class='comma'>,</span>
      <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>instance-type</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>m1.small</span><span class='tstring_end'>&#39;</span></span><span class='rbrace'>}</span> <span class='rbracket'>]</span>
  <span class='rparen'>)</span>

  <span class='comment'># Run an new instance:
</span>  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>RunInstances</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ImageId</span><span class='tstring_end'>&#39;</span></span>            <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ami-8ef607e7</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MinCount</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MaxCount</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>KeyName</span><span class='tstring_end'>&#39;</span></span>            <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>kd: alex</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>UserData</span><span class='tstring_end'>&#39;</span></span>           <span class='op'>=&gt;</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='id identifier rubyid_base64en'>base64en</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hehehehe!!!!</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>InstanceType</span><span class='tstring_end'>&#39;</span></span>       <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>c1.medium</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ClientToken</span><span class='tstring_end'>&#39;</span></span>        <span class='op'>=&gt;</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>Utils</span><span class='op'>::</span><span class='id identifier rubyid_generate_token'>generate_token</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SecurityGroupId</span><span class='tstring_end'>&#39;</span></span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sg-f71a089e</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>sg-c71a08ae</span><span class='tstring_end'>&#39;</span></span> <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Placement+</span><span class='tstring_end'>&#39;</span></span>         <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AvailabilityZone</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>us-east-1d</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Tenancy</span><span class='tstring_end'>&#39;</span></span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>BlockDeviceMapping</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span>
      <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DeviceName</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>/dev/sdc</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Ebs</span><span class='tstring_end'>&#39;</span></span>        <span class='op'>=&gt;</span> <span class='lbrace'>{</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SnapshotId</span><span class='tstring_end'>&#39;</span></span>          <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>snap-e40fd188</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VolumeSize</span><span class='tstring_end'>&#39;</span></span>          <span class='op'>=&gt;</span> <span class='int'>3</span><span class='comma'>,</span>
         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>DeleteOnTermination</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='rbrace'>}</span> <span class='rbracket'>]</span>
  <span class='rparen'>)</span>

  <span class='comment'># Terminate your instance:
</span>  <span class='id identifier rubyid_ec2'>ec2</span><span class='period'>.</span><span class='const'>TerminateInstances</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>InstanceId</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i-67c87504</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>i-67c87504</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
</code></pre>

<h3>Amazon Simple Storage Service (S3)</h3>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>right_aws_api</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_key'>key</span>      <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCESS_KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_secret'>secret</span>   <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_SECRET_ACCESS_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://s3.amazonaws.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_s3'>s3</span>       <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>S3</span><span class='op'>::</span><span class='const'>Manager</span><span class='op'>::</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>ListBuckets</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>GetBucketAcl</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bucket</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my-lovely-bucket</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>GetObject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bucket</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>my-lovely-bucket</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fairies.txt</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<h3>Amazon Simple Queue Service (SQS)</h3>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>right_aws_api</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_key'>key</span>            <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCESS_KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_secret'>secret</span>         <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_SECRET_ACCESS_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_account_number'>account_number</span> <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCOUNT_NUMBER</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_endpoint'>endpoint</span>       <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://sqs.us-east-1.amazonaws.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_sqs'>sqs</span>            <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>SQS</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_account_number'>account_number</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>

  <span class='comment'># List all queues
</span>  <span class='id identifier rubyid_sqs'>sqs</span><span class='period'>.</span><span class='const'>ListQueues</span>

  <span class='comment'># Create a new one
</span>  <span class='id identifier rubyid_sqs'>sqs</span><span class='period'>.</span><span class='const'>CreateQueue</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>QueueName</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myCoolQueue</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Attribute</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span>
       <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>VisibilityTimeout</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>40</span> <span class='rbrace'>}</span><span class='comma'>,</span>
       <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Name</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MaximumMessageSize</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Value</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='int'>2048</span> <span class='rbrace'>}</span> <span class='rbracket'>]</span><span class='rparen'>)</span>

  <span class='comment'># Send a message
</span>  <span class='id identifier rubyid_message'>message</span> <span class='op'>=</span> <span class='const'>URI</span><span class='op'>::</span><span class='id identifier rubyid_escape'>escape</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Woohoo!!!</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sqs'>sqs</span><span class='period'>.</span><span class='const'>SendMessage</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myCoolQueue</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MessageBody</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>

  <span class='comment'># Receive a message
</span>  <span class='id identifier rubyid_sqs'>sqs</span><span class='period'>.</span><span class='const'>ReceiveMessage</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myCoolQueue</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='comment'># Kill the queue
</span>  <span class='id identifier rubyid_sqs'>sqs</span><span class='period'>.</span><span class='const'>DeleteQueue</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>myCoolQueue</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
</code></pre>

<h3>Amazon Product Advertising API (PA)</h3>

<pre class="code ruby"><code class="ruby">
  <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>right_aws_api</span><span class='tstring_end'>&quot;</span></span>

  <span class='id identifier rubyid_key'>key</span>      <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCESS_KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_secret'>secret</span>   <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_SECRET_ACCESS_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://webservices.amazon.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_paa'>paa</span>      <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>ECS</span><span class='op'>::</span><span class='const'>PA</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_paa'>paa</span><span class='period'>.</span><span class='const'>ItemLookup</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AssociateTag</span><span class='tstring_end'>&#39;</span></span>  <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>weird-tag</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>IdType</span><span class='tstring_end'>&#39;</span></span>        <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ASIN</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ItemId</span><span class='tstring_end'>&#39;</span></span>        <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B00TRAO8HK</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ResponseGroup</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>OfferSummary</span><span class='tstring_end'>&#39;</span></span>
  <span class='rparen'>)</span>
</code></pre>

<h3>Amazon Market Web Services API (MWS)</h3>

<pre class="code ruby"><code class="ruby">
  <span class='id identifier rubyid_key'>key</span>      <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_ACCESS_KEY_ID</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_secret'>secret</span>   <span class='op'>=</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AWS_SECRET_ACCESS_KEY</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_endpoint'>endpoint</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https://mws.amazonservices.com</span><span class='tstring_end'>&#39;</span></span>

  <span class='comment'># Webstore
</span>  <span class='id identifier rubyid_ws'>ws</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>MWS</span><span class='op'>::</span><span class='const'>Webstore</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ws'>ws</span><span class='period'>.</span><span class='const'>GetServiceStatus</span>

  <span class='comment'># Reports
</span>  <span class='id identifier rubyid_rd'>rd</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>MWS</span><span class='op'>::</span><span class='const'>Reports</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rd'>rd</span><span class='period'>.</span><span class='const'>GetReportList</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SellerId</span><span class='tstring_end'>&#39;</span></span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MarketplaceId</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='rparen'>)</span>

  <span class='comment'># Recommendations
</span>  <span class='id identifier rubyid_rd'>rd</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>MWS</span><span class='op'>::</span><span class='const'>Recommendations</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rd'>rd</span><span class='period'>.</span><span class='const'>ListRecommendations</span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SellerId</span><span class='tstring_end'>&#39;</span></span>      <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>foo</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>MarketplaceId</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>bar</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='rparen'>)</span>
</code></pre>

<h3>Options</h3>

<p>There is a way to provide extra options when you instantiate a new manager:</p>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='symbol'>:key</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_ec2'>ec2</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>EC2</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_sqs'>sqs</span> <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>SQS</span><span class='op'>::</span><span class='const'>Manager</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_account_number'>account_number</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_s3'>s3</span>  <span class='op'>=</span> <span class='const'>RightScale</span><span class='op'>::</span><span class='const'>CloudApi</span><span class='op'>::</span><span class='const'>AWS</span><span class='op'>::</span><span class='const'>S3</span><span class='op'>::</span><span class='const'>Manager</span><span class='op'>::</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span> <span class='id identifier rubyid_secret'>secret</span><span class='comma'>,</span> <span class='id identifier rubyid_endpoint'>endpoint</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_etc'>etc</span>
</code></pre>

<p>The options allow you to tweak the managers behavoir. Here is a list of the options that make sense for AWS services:</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>:abort_on_timeout</td>
<td>Boolean</td>
<td>false</td>
<td>When set to +true+ the gem does not perform a retry call when there is a connection timeout. This may help you to deal with request idempotence issue. Lets say you make a create call and you get back a timeout. It is possible that AWS created a new resource but just failed to report it properly. It is better to stop here rather than keep retrying creating more and more resources.</td>
</tr>
<tr>
<td>:api_version</td>
<td>String</td>
<td>see service Manager</td>
<td>The required cloud API version if it is different from the default one.</td>
</tr>
<tr>
<td>:cache</td>
<td>Boolean</td>
<td>false</td>
<td>Cache cloud responses when possible so that we don&#39;t parse them again if cloud response does not change (see cloud specific ApiManager definition).</td>
</tr>
<tr>
<td>:cloud</td>
<td>Hash</td>
<td>{}</td>
<td>A set of cloud or service specific options. There is an only option for AWS S3 so far: :no_dns_buckets =&gt; false/true.</td>
</tr>
<tr>
<td>:connection_open_timeout</td>
<td>Integer</td>
<td>up to NetHttpPersistent gem</td>
<td>Connection open timeout (in seconds).</td>
</tr>
<tr>
<td>:connection_read_timeout</td>
<td>Integer</td>
<td>up to NetHttpPersistent gem</td>
<td>Connection read timeout (in seconds).</td>
</tr>
<tr>
<td>:connection_retry_count</td>
<td>Integer</td>
<td>3</td>
<td>Max number of establish connection retry attempts before it gives up.</td>
</tr>
<tr>
<td>:connection_retry_delay</td>
<td>Float</td>
<td>0.5</td>
<td>Initial retry backoff delay in seconds. The value is doubled on every retry attempt.</td>
</tr>
<tr>
<td>:connection_verify_mode</td>
<td>Integer</td>
<td>OpenSSL::SSL::VERIFY_PEER</td>
<td>Try OpenSSL::SSL::VERIFY_NONE is there is an SSL sertificate issue with th eremote end. This may happen when working with DNS-line S3 buckets.</td>
</tr>
<tr>
<td>:headers</td>
<td>Hash</td>
<td>{}</td>
<td>A set of request headers to be added to every API request.</td>
</tr>
<tr>
<td>:logger</td>
<td>Logger</td>
<td>-&gt; STDOUT</td>
<td>Current logger. When nil is given it logs to &#39;/dev/nul&#39;.</td>
</tr>
<tr>
<td>:log_filter_patterns</td>
<td>Array</td>
<td>see DEFAULT_LOG_FILTERS</td>
<td>A set of log filters that define what to log (see RightScale::CloudApi::CloudApiLogger).</td>
</tr>
<tr>
<td>:params</td>
<td>Hash</td>
<td>{}</td>
<td>A set of URL params to be added to every API request.</td>
</tr>
<tr>
<td>:raw_response</td>
<td>Boolean</td>
<td>false</td>
<td>By default the gem parses all XML and JSON responses and returns them as ruby Hashes. Sometimes it is not what one would want (Amazon S3 GetObject for example). Setting this option to +true+ forces the gem to return the body of the response as it is.</td>
</tr>
</tbody></table>

<p>For more options see <a href="https://github.com/rightscale/right_cloud_api_base/blob/master/lib/base/api_manager.rb">https://github.com/rightscale/right_cloud_api_base/blob/master/lib/base/api_manager.rb</a></p>

<h3>Response</h3>

<p>It is easy to get the last HTTP request and response data:</p>

<pre class="code ruby"><code class="ruby">  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>PutObject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bucket</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a.b.c.d.1.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:body</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hahaha</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='comment'>#=&gt; &#39;&#39;
</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_verb'>verb</span>    <span class='comment'># =&gt; &#39;put&#39;
</span>  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span>    <span class='comment'># =&gt; &#39;/13&#39;
</span>  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span> <span class='comment'># =&gt;
</span>    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&quot;</span></span>         <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>binary/octet-stream</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>6</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-md5</span><span class='tstring_end'>&quot;</span></span>          <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EBpuyfk4iF3wpE8gRY0utA==</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-content-sha256</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>23453452345234523452345</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-date</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>20150123T225348Z</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-expires</span><span class='tstring_end'>&quot;</span></span>        <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='int'>3600</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>host</span><span class='tstring_end'>&quot;</span></span>                 <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>a.b.c.d.1.com.s3.amazonaws.com</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>authorization</span><span class='tstring_end'>&quot;</span></span>        <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AWS4-HMAC-SHA256 Credential=000/20150123/us-east-1/s3/aws4_request, SignedHeaders=content-length;content-md5;content-type;host;x-amz-content-sha256;x-amz-date;x-amz-expires, Signature=111</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span>    <span class='comment'>#=&gt; &quot;hahaha&quot;
</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_code'>code</span>    <span class='comment'>#=&gt; &#39;200&#39;
</span>  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_headers'>headers</span> <span class='comment'>#=&gt;
</span>    <span class='lbrace'>{</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-id-2</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wB/XOQ+dfgdfgdfgwgfdg</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-request-id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>FEC7DEE7C51ACAB3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>date</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri, 23 Jan 2015 22:53:49 GMT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etag</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;101a6ec9f938885df0a44f20458d2eb4\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AmazonS3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span>    <span class='comment'>#=&gt; &#39;&#39;
</span>
</code></pre>

<p>Furthermore every response value may return its HTTP response code and HTTP headers through &#39;metadata&#39; method:</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_response1'>response1</span> <span class='op'>=</span> <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>GetObject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bucket</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a.b.c.d.1.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>13</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='id identifier rubyid_response2'>response2</span> <span class='op'>=</span> <span class='id identifier rubyid_s3'>s3</span><span class='period'>.</span><span class='const'>GetObject</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Bucket</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>a.b.c.d.1.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Object</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>14</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

<span class='id identifier rubyid_response1'>response1</span> <span class='comment'>#=&gt; &quot;hahaha&quot;
</span><span class='id identifier rubyid_response1'>response1</span><span class='period'>.</span><span class='id identifier rubyid_metadata'>metadata</span> <span class='comment'>#=&gt;
</span>  <span class='lbrace'>{</span> <span class='symbol'>:code</span>    <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>200</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='symbol'>:headers</span> <span class='op'>=&gt;</span>
    <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-id-2</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sdasfdasd=</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-request-id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B2AB70B2D081BF2B</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>date</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri, 23 Jan 2015 23:02:36 GMT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>last-modified</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri, 23 Jan 2015 22:53:49 GMT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etag</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;2345435234523452345324\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>accept-ranges</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bytes</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>binary/octet-stream</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>6</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
     <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AmazonS3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rbrace'>}</span>

<span class='id identifier rubyid_response2'>response2</span> <span class='comment'>#=&gt; &quot;hohohohoho&quot;
</span><span class='id identifier rubyid_response2'>response2</span><span class='period'>.</span><span class='id identifier rubyid_metadata'>metadata</span> <span class='comment'>#=&gt;
</span><span class='lbrace'>{</span> <span class='symbol'>:code</span>    <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>200</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='symbol'>:headers</span> <span class='op'>=&gt;</span>
  <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-id-2</span><span class='tstring_end'>&quot;</span></span>       <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>asdasdf=</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-amz-request-id</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>50DBC360C934C548</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>date</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri, 23 Jan 2015 23:02:36 GMT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>last-modified</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Fri, 23 Jan 2015 23:01:55 GMT</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etag</span><span class='tstring_end'>&quot;</span></span>             <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\&quot;2345345243523452345234\&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>accept-ranges</span><span class='tstring_end'>&quot;</span></span>    <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>bytes</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&quot;</span></span>     <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>binary/octet-stream</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-length</span><span class='tstring_end'>&quot;</span></span>   <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>10</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>server</span><span class='tstring_end'>&quot;</span></span>           <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>AmazonS3</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rbrace'>}</span>
</code></pre>

<h2>Dependencies</h2>

<p>This gem depends on a base gem which is shared across all RightScale cloud libraries:
<a href="https://github.com/rightscale/right_cloud_api_base">https://github.com/rightscale/right_cloud_api_base</a></p>

<h3>(c) 2014 by RightScale, Inc., see the LICENSE file for the open-source license.</h3>
</div></div>

    <div id="footer">
  Generated on Wed Aug  5 11:49:03 2015 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.6 (ruby-2.1.5).
</div>

  </body>
</html>